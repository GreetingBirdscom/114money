<template>
  <div class="mt-6">
    <div class="max-w-screen-sm p-5 md:flex mx-auto">
      <div class="grid grid-cols-12 gap-4">
        <div class="col-span-6 sm:col-span-3">
          <a aria-current="page" href="/dashboards/hobbies#" class="router-link-active router-link-exact-active group relative flex w-full flex-col overflow-hidden rounded-2xl">
            <img class="h-80 w-full object-cover object-center" src="../static/img/hobby-1.svg" alt="Hobby cover">
            <div class="bg-muted-900 absolute inset-0 z-10 h-full w-full opacity-0 transition-opacity duration-300 group-hover:opacity-50"></div>
            <div class="absolute inset-0 z-20 flex h-full w-full flex-col justify-between p-6">
              <div class="flex items-center justify-between">
                <h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100">Trekking </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5 -translate-y-2 text-white opacity-0 transition-all delay-300 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M3 22h18v2H3zm9-10c-12 0-9 9-9 9h18s3-9-9-9Z"></path><path fill="currentColor" d="m3 0l1 13c1.22-1.6 3.46-2.51 8-2.51s6.81.93 8 2.53L21 0Zm4 3h10v2H7Zm11 6H6V7h12Z"></path></svg>
              </div>
              <div class="flex items-center justify-between">
                <h3 class="translate-y-2 font-sans text-sm text-white underline underline-offset-4 opacity-0 transition-all delay-500 duration-300 group-hover:translate-y-0 group-hover:opacity-100">View activities </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-4 w-4 translate-y-2 text-white opacity-0 transition-all delay-700 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
              </div>
            </div>
          </a>
        </div>
        <div class="col-span-6 sm:col-span-3">
          <a aria-current="page" href="/dashboards/hobbies#" class="router-link-active router-link-exact-active group relative flex w-full flex-col overflow-hidden rounded-2xl">
            <img class="h-80 w-full object-cover object-center" src="../static/img/hobby-2.svg" alt="Hobby cover">
            <div class="bg-muted-900 absolute inset-0 z-10 h-full w-full opacity-0 transition-opacity duration-300 group-hover:opacity-50"></div>
            <div class="absolute inset-0 z-20 flex h-full w-full flex-col justify-between p-6">
            <div class="flex items-center justify-between">
              <h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100">Cycling </h3>
              <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5 -translate-y-2 text-white opacity-0 transition-all delay-300 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M2 16.002c0 7.731 6.27 14.001 14.002 14.001c7.731 0 13.998-6.27 13.998-14.001C30 8.27 23.733 2 16.002 2C8.27 2 2 8.27 2 16.002Zm13.425 11.25a11.21 11.21 0 0 1-6.173-2.231l5.1-6.074c.327.184.689.315 1.073.38v7.924Zm1.211-.004v-7.93a3.35 3.35 0 0 0 .797-.259l4.545 6.493a11.2 11.2 0 0 1-5.342 1.696Zm6.332-2.394l-4.55-6.497a3.29 3.29 0 0 0 .502-.659l7.45 2.713a11.305 11.305 0 0 1-3.402 4.443Zm3.817-5.581l-7.454-2.714a3.398 3.398 0 0 0 .035-.828l7.664-2.053a11.311 11.311 0 0 1-.245 5.595Zm-.067-6.764l-7.662 2.055a3.38 3.38 0 0 0-.442-.7l5.101-6.078a11.275 11.275 0 0 1 3.003 4.723ZM22.79 7.005l-5.097 6.075a3.354 3.354 0 0 0-1.057-.394V4.749a11.21 11.21 0 0 1 6.154 2.256Zm-7.365-2.26v7.93a3.358 3.358 0 0 0-.811.249l-4.552-6.501a11.203 11.203 0 0 1 5.363-1.677ZM9.07 7.116l4.547 6.497a3.39 3.39 0 0 0-.524.676l-7.456-2.714A11.307 11.307 0 0 1 9.07 7.116Zm-3.848 5.596l7.453 2.715a3.395 3.395 0 0 0-.037.86l-7.66 2.052a11.31 11.31 0 0 1-.244-2.34c0-1.143.17-2.247.488-3.287Zm.069 6.794l7.663-2.05c.124.26.281.502.465.72l-5.094 6.07a11.276 11.276 0 0 1-3.034-4.74Zm12.285-3.503a1.574 1.574 0 1 1-3.148 0a1.574 1.574 0 0 1 3.148 0Z"></path></svg>
            </div>
            <div class="flex items-center justify-between">
              <h3 class="translate-y-2 font-sans text-sm text-white underline underline-offset-4 opacity-0 transition-all delay-500 duration-300 group-hover:translate-y-0 group-hover:opacity-100">View activities </h3>
              <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-4 w-4 translate-y-2 text-white opacity-0 transition-all delay-700 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
            </div>
            </div>
          </a>
        </div>
        <div class="col-span-6 sm:col-span-3">
          <a aria-current="page" href="/dashboards/hobbies#" class="router-link-active router-link-exact-active group relative flex w-full flex-col overflow-hidden rounded-2xl">
            <img class="h-80 w-full object-cover object-center" src="../static/img/hobby-3.svg" alt="Hobby cover">
            <div class="bg-muted-900 absolute inset-0 z-10 h-full w-full opacity-0 transition-opacity duration-300 group-hover:opacity-50"></div>
            <div class="absolute inset-0 z-20 flex h-full w-full flex-col justify-between p-6">
              <div class="flex items-center justify-between">
                <h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100">Exploration </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5 -translate-y-2 text-white opacity-0 transition-all delay-300 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512a256 256 0 1 0 0-512a256 256 0 1 0 0 512zm50.7-186.9l-144.3 55.5c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31l-55.5 144.3c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0-64 0a32 32 0 1 0 64 0z"></path></svg>
              </div>
              <div class="flex items-center justify-between">
                <h3 class="translate-y-2 font-sans text-sm text-white underline underline-offset-4 opacity-0 transition-all delay-500 duration-300 group-hover:translate-y-0 group-hover:opacity-100">View activities </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-4 w-4 translate-y-2 text-white opacity-0 transition-all delay-700 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
              </div>
            </div>
          </a>
        </div>
        <div class="col-span-6 sm:col-span-3">
          <a aria-current="page" href="/dashboards/hobbies#" class="router-link-active router-link-exact-active group relative flex w-full flex-col overflow-hidden rounded-2xl">
            <img class="h-80 w-full object-cover object-center" src="https://tairo.cssninja.io/img/illustrations/dashboards/hobbies/hobby-4.svg" alt="Hobby cover">
            <div class="bg-muted-900 absolute inset-0 z-10 h-full w-full opacity-0 transition-opacity duration-300 group-hover:opacity-50"></div>
            <div class="absolute inset-0 z-20 flex h-full w-full flex-col justify-between p-6">
              <div class="flex items-center justify-between">
                <h3 class="-translate-y-2 font-sans tracking-wider text-white opacity-0 transition-all delay-100 duration-300 group-hover:translate-y-0 group-hover:opacity-100">Hiking </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5 -translate-y-2 text-white opacity-0 transition-all delay-300 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M14.79 10.62L3.5 21.9l-1.4-1.4L13.38 9.21l1.41 1.41m4.48-2.89l.59-.59l-.79-.79l.64-.64l-1.42-1.42l-.64.64l-.79-.79l-.59.59c-1.74-1.42-3.7-2.56-5.8-3.36l-.83 1.79c1.75.92 3.36 2.03 4.86 3.34L14 7l3 3l.5-.5c1.31 1.5 2.42 3.11 3.34 4.86l1.79-.83c-.8-2.1-1.94-4.06-3.36-5.8Z"></path></svg>
              </div>
              <div class="flex items-center justify-between">
                <h3 class="translate-y-2 font-sans text-sm text-white underline underline-offset-4 opacity-0 transition-all delay-500 duration-300 group-hover:translate-y-0 group-hover:opacity-100">View activities </h3>
                <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-4 w-4 translate-y-2 text-white opacity-0 transition-all delay-700 duration-300 group-hover:translate-y-0 group-hover:opacity-100" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
              </div>
            </div>
          </a>
        </div>

        <!--TODO: Trending Part Start-->
        <div class="col-span-12 sm:col-span-6">
          <div class="my-4"><h2 class="font-heading text-lg font-light leading-tight text-muted-800 dark:text-white">
            <span>Trending Now</span></h2>
            <p class="font-alt text-sm font-normal leading-normal leading-normal"><span class="text-muted-500"> Chek out the latest activities </span></p>
          </div>
          <div class="space-y-2">
            <div
              v-for="(trendtag, key) in trendtags"
              :key="key"
              class="border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-xl flex items-center gap-3 p-3">
              <TrendingIcon :name="key" />
              <div>
                <h4 class="font-heading text-sm font-medium leading-tight text-muted-800 dark:text-white"><span>{{ trendtag.title }}</span></h4>
                <p class="font-alt text-xs font-normal leading-normal leading-normal">
                  <span class="text-muted-400">{{ trendtag.created_at }}</span>
                </p>
              </div>
              <div class="ms-auto flex items-center">
                <button type="button" class="disabled:opacity-60 disabled:cursor-not-allowed hover:shadow-none false false text-muted-700 bg-white border border-muted-300 dark:text-white dark:bg-muted-700 dark:hover:bg-muted-600 dark:border-muted-600 hover:bg-muted-50 rounded-xl h-10 w-10 p-2 nui-focus relative inline-flex items-center justify-center space-x-1 font-sans text-sm font-normal leading-5 no-underline outline-none transition-all duration-300 scale-75">
                  <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-span-12 sm:col-span-6">
          <div class="my-4"><h2 class="font-heading text-lg font-light leading-tight text-muted-800 dark:text-white">
            <span>Popular ativities</span></h2>
            <p class="font-alt text-sm font-normal leading-normal leading-normal"><span class="text-muted-500"> Chek out the latest activities </span>
            </p></div>
          <div class="space-y-2">
            <div
              v-for="(populartag, key) in populartags"
              :key="key"
              class="border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-xl flex items-center gap-3 p-3">
              <PopularIcon :name="key" />
              <div>
                <h4 class="font-heading text-sm font-medium leading-tight text-muted-800 dark:text-white"><span>{{ populartag.title }}</span></h4>
                <p class="font-alt text-xs font-normal leading-normal leading-normal">
                  <span class="text-muted-400">{{ populartag.created_at }}</span>
                </p>
              </div>
              <div class="ms-auto flex items-center">
                <button type="button" class="disabled:opacity-60 disabled:cursor-not-allowed hover:shadow-none false false text-muted-700 bg-white border border-muted-300 dark:text-white dark:bg-muted-700 dark:hover:bg-muted-600 dark:border-muted-600 hover:bg-muted-50 rounded-xl h-10 w-10 p-2 nui-focus relative inline-flex items-center justify-center space-x-1 font-sans text-sm font-normal leading-5 no-underline outline-none transition-all duration-300 scale-75">
                  <svg data-v-cd102a71="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon h-5 w-5" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"></path></svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--TODO: Makalelerin listesi-->
    <div class="max-w-screen-lg p-5 md:flex mx-auto dark:bg-gray-900">
      <div>
        <div class="ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4">
          <div
            v-for="(article, key) in articles"
            :key="key"
            class="border-muted-200 dark:border-muted-700 dark:bg-muted-800 relative w-full border bg-white transition-all duration-300 rounded-xl group p-3"
          >

            <div class="relative">
              <NuxtLink :to="{ name: 'blog-slug', params: { slug: article.slug } }">
                <img :src="article.image" class="h-40 w-full rounded-lg object-cover" :alt="article.title +' '+ key" v-lazy-load>
              </NuxtLink>
              <span class="inline-block px-3 font-sans transition-shadow duration-300 py-1 text-[0.65rem] rounded-full bg-primary-100 text-primary-500 border-primary-100 dark:border-primary-500 dark:text-primary-500 border dark:bg-transparent absolute start-3 top-3 translate-y-1 opacity-0 transition-all duration-300 group-hover:translate-y-0 group-hover:opacity-100">Productivity</span>
            </div>
            <div>
              <div class="mb-6 mt-3">
                <p class="font-heading text-base font-medium leading-snug line-clamp-2 text-gray-800 dark:text-gray-100">
                  <NuxtLink :to="{ name: 'blog-slug', params: { slug: article.slug } }">
                    {{ article.title }}
                  </NuxtLink>
                </p>
              </div>
              <div class="mt-auto flex items-center gap-2">
                <div class="relative inline-flex shrink-0 items-center justify-center outline-none h-8 w-8 rounded-full bg-muted-500/20 text-muted-500">
                  <div class="flex h-full w-full items-center justify-center overflow-hidden text-center transition-all duration-300 rounded-full">
                    <img src="../static/img/20.svg" class="max-h-full max-w-full object-cover shadow-sm dark:border-transparent h-8 w-8" alt="author">
                  </div>
                </div>
                <div class="leading-none">
                  <h4 class="text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight">
                    Alejandro B.
                  </h4>
                  <div class="flex flex-wrap justify-between pt-3 space-x-2 text-xs text-gray-400">
                    <span class="text-muted-400 font-sans text-xs">{{ article.created_at }}</span> <span>|</span>
                    <span class="text-muted-400 font-sans text-xs">{{ article.read_duration }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import siteMetaInfo from "@/data/sitemetainfo";

export default {
  data() {
    return {
      siteMetaInfo: siteMetaInfo,
    };
  },
  async asyncData({$axios}) {
    const articles = await $axios.$get(process.env.API_URL + '/accounts/homepage')
    const trendtags = await $axios.$get(process.env.API_URL + '/accounts/homepage/trending-tags')
    const populartags = await $axios.$get(process.env.API_URL + '/accounts/homepage/popular-tags')

    return {
      articles: articles.data,
      trendtags: trendtags.data,
      populartags: populartags.data
    }
  },
  head: {
    title: siteMetaInfo.title,
    meta: [
      { charset: "utf-8" },
      { name: "viewport", content: "width=device-width, initial-scale=1" },
      {
        hid: "description",
        name: "description",
        content: siteMetaInfo.description,
      },
    ],
    link: [{ rel: "icon", type: "image/x-icon", href: "/favicon.ico" }],
  },
};
</script>
